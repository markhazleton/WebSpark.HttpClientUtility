<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<!-- Target only .NET 9 production -->
		<TargetFramework>net9.0</TargetFramework>
		<Nullable>enable</Nullable>
		<ImplicitUsings>enable</ImplicitUsings>
		<GenerateDocumentationFile>True</GenerateDocumentationFile>
		<!-- Library configuration -->
		<OutputType>Library</OutputType>
		<IsPackable>true</IsPackable>
		<!-- NuGet Package Properties -->
		<GeneratePackageOnBuild>true</GeneratePackageOnBuild>
		<PackageId>WebSpark.HttpClientUtility</PackageId>
		<Version>1.3.1</Version>
		<Deterministic>true</Deterministic>
		<Authors>MarkHazleton</Authors>
		<Company>MarkHazleton</Company>
		<Copyright>Copyright © MarkHazleton 2025</Copyright>
		<Summary>Powerful HttpClient wrapper with resilience, caching, telemetry, and crawling
			capabilities for .NET applications.</Summary>
		<Description>
			A utility library for simplifying HttpClient usage in .NET applications, including
			features for telemetry, caching, Polly integration, concurrent requests, and web
			crawling.
		</Description>
		<PackageReleaseNotes>
			1.3.1 - Enhanced CurlCommandSaver with batch processing, file rotation, sensitive data sanitization, and improved error handling with retry logic. Added comprehensive configuration options and better resource management.
			1.3.0 - Major update: Target only .NET 9 production for improved performance and modern features. Removed .NET 8 support to focus on latest stable .NET version. Updated test coverage with 75+ new tests across authentication providers, object pooling, streaming, and utility classes.
			1.2.0 - Updated all NuGet package dependencies to their latest stable versions for improved compatibility and security. Maintenance release with dependency updates and stability improvements.
			1.1.0 - Breaking changes: Removed deprecated OpenTelemetry.Exporter.Jaeger package in
			favor of modern OTLP exporter. Updated OpenTelemetry configuration API to use OTLP-only
			approach (supports Jaeger, Zipkin, and other OTLP-compatible systems). Build stability
			improvements and code cleanup.
			1.0.10 - Major improvements: Streaming support for large responses, OpenTelemetry
			integration, resource cleanup audit, MSTest framework consistency, build stability
			fixes.
		</PackageReleaseNotes>
		<NeutralLanguage>en-US</NeutralLanguage>
		<PackageTags>
			httpclient;utility;web;api;rest;polly;cache;telemetry;concurrent;dotnet;aspnetcore;crawler;sitemap;http-resilience;retry;circuit-breaker;caching;curl;fire-and-forget;opentelemetry;streaming;observability;tracing;net9
		</PackageTags>
		<RepositoryUrl>https://github.com/MarkHazleton/HttpClientUtility</RepositoryUrl>
		<RepositoryType>git</RepositoryType>
		<PackageProjectUrl>https://MarkHazleton.com/MarkHazleton/HttpClientUtility</PackageProjectUrl>
		<PackageLicenseExpression>MIT</PackageLicenseExpression>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<PackageIcon>icon.png</PackageIcon>
		<PublishRepositoryUrl>true</PublishRepositoryUrl>
		<EmbedUntrackedSources>true</EmbedUntrackedSources>
		<IncludeSymbols>true</IncludeSymbols>
		<SymbolPackageFormat>snupkg</SymbolPackageFormat>
		<!-- Package Validation - disabled for major version with breaking changes -->
		<!-- Re-enable once 1.3.0 is established as baseline -->
		<EnablePackageValidation>false</EnablePackageValidation>
		<!-- <PackageValidationBaselineVersion>1.3.0</PackageValidationBaselineVersion> -->
		<!-- Source Link: Enables debugging the source through the NuGet Package -->
		<ContinuousIntegrationBuild Condition="'$(GITHUB_ACTIONS)' == 'true'">true</ContinuousIntegrationBuild>
		<SignAssembly>true</SignAssembly>
		<AssemblyOriginatorKeyFile>../HttpClientUtility.snk</AssemblyOriginatorKeyFile>
		<PublicSign Condition="'$(OS)' == 'Windows_NT'">false</PublicSign>
		<PublicSign Condition="'$(OS)' != 'Windows_NT'">true</PublicSign>
		<EnableStrongNaming>true</EnableStrongNaming>
		<DelaySign>false</DelaySign>
		<!-- Strong name signing enabled -->
	</PropertyGroup>

	<ItemGroup>
		<None Include="..\README.md" Pack="true" PackagePath="\" />
		<None Include="images\icon.png" Pack="true" PackagePath="\" />
		<None Include="Documentation\*.md" Pack="true" PackagePath="docs\" />
	</ItemGroup>
	
	<ItemGroup>
		<!-- Core ASP.NET packages needed for SignalR and ObjectPool -->
		<FrameworkReference Include="Microsoft.AspNetCore.App" />
	</ItemGroup>
	
	<ItemGroup>
		<!-- Core dependencies -->
		<PackageReference Include="CsvHelper" Version="33.1.0" />
		<PackageReference Include="HtmlAgilityPack" Version="1.12.4" />
		<PackageReference Include="Markdig" Version="0.43.0" />
		<PackageReference Include="Microsoft.Extensions.Caching.Abstractions" Version="9.0.10" />
		<PackageReference Include="Microsoft.Extensions.Http" Version="9.0.10" />
		<PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
		<PackageReference Include="Newtonsoft.Json" Version="13.0.4" />
		
		<!-- OpenTelemetry -->
		<PackageReference Include="OpenTelemetry" Version="1.13.1" />
		<PackageReference Include="OpenTelemetry.Instrumentation.Http" Version="1.13.0" />
		<PackageReference Include="OpenTelemetry.Extensions.Hosting" Version="1.13.1" />
		<PackageReference Include="OpenTelemetry.Exporter.Console" Version="1.13.1" />
		<PackageReference Include="OpenTelemetry.Exporter.OpenTelemetryProtocol" Version="1.13.1" />
		<PackageReference Include="OpenTelemetry.Exporter.InMemory" Version="1.13.1" />
		
		<!-- Resilience -->
		<PackageReference Include="Polly" Version="8.6.4" />
	</ItemGroup>

</Project>